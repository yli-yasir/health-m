(this["webpackJsonphealth-m"]=this["webpackJsonphealth-m"]||[]).push([[0],{261:function(e,t){},262:function(e,t){},263:function(e,t){},370:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(16),i=n.n(r),c=n(11),o=n.n(c),s=n(17),l=n(0),u=n.n(l),j=n(459),d=n(25),b=n(22),O="/search",m="/login",h="/add",f="/stats",g="/patients/:id",p=n(460),x=n(374),v=n(116),C=n(79),y=n(9),k=n(112);function N(e,t){for(var n={},a=0,r=Object.entries(t);a<r.length;a++){var i=Object(y.a)(r[a],2),c=i[0],o=i[1];e[c]&&t[c]&&(n[c]=o)}return n}var w="email",S="password",D=n(8),F=n(3),I=n(404),B=n(407);function L(e){var t=e.isWorking,n=Object(F.a)(e,["isWorking"]);return Object(a.jsxs)(I.a,Object(D.a)(Object(D.a)({disabled:t},n),{},{children:[t&&Object(a.jsx)(B.a,{color:"secondary",size:24}),!t&&e.children]}))}var _=n(24),T=_.b().shape({email:_.c().email().required("Demo Email: admin@healthm.com"),password:_.c().required("Demo Password: admin")}),E=n(414),M=n(61),P=n.n(M);function R(e,t){var n=new URLSearchParams(e);return Object.keys(t).forEach((function(e){t[e]?n.set(e,t[e]):n.delete(e)})),"?"+n.toString()}function A(e){return"/patients/".concat(e)}var G="https://health-m-backend.herokuapp.com",W="healthmtkn",q=function(){return{Authorization:"Bearer "+localStorage.getItem(W)}};function V(e,t,n){return H.apply(this,arguments)}function H(){return(H=Object(s.a)(o.a.mark((function e(t,n,a){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R("",{q:t,page:a,limit:n}),e.next=3,P.a.get("".concat(G,"/patients").concat(r));case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("".concat(G,"/patients"),t);case 2:return n=e.sent,a=n.headers.location.match(/[^/]+$/g)[0],e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return U.apply(this,arguments)}function U(){return(U=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("".concat(G,"/patients/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return X.apply(this,arguments)}function X(){return(X=Object(s.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.patch("".concat(G,"/patients/").concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.delete("".concat(G,"/patients/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("".concat(G,"/login"),t);case 2:return n=e.sent,localStorage.setItem(W,n.data.token),P.a.defaults.headers=q(),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("".concat(G,"/login"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}P.a.defaults.headers=q();var ae={email:"",password:""},re=n(205);function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=Object(re.a)(e,n),r=Object(y.a)(a,2),i=r[0],c=r[1];return Object(l.useEffect)((function(){return t.onLoad&&i.loading?t.onLoad():t.onError&&i.error&&!i.loading?t.onError():t.onSuccess&&i.value&&!i.loading?t.onSuccess():void 0}),[i]),[i,c]}var ce=n(467),oe=u.a.forwardRef((function(e,t){return Object(a.jsx)(ce.a,Object(D.a)({ref:t,variant:"outlined",color:"secondary",fullWidth:!0,margin:"normal",autoComplete:"off"},e))}));function se(e){var t=e.name,n=e.formikBag,r=e.defaultHelperText,i=Object(F.a)(e,["name","formikBag","defaultHelperText"]),c=n.values,o=n.errors,s=n.onChange,l=n.onBlur;return Object(a.jsx)(oe,Object(D.a)({name:t,value:c[t],error:Boolean(o[t]),helperText:o[t]||r,onChange:s,onBlur:l},i))}var le=n(465);function ue(e){var t=e.message,n=e.setMessage,r=e.autoHideDuration,i=e.onClose,c=Object(F.a)(e,["message","setMessage","autoHideDuration","onClose"]);return Object(a.jsx)(le.a,Object(D.a)({anchorOrigin:{vertical:"bottom",horizontal:"left"},open:Boolean(t),onClose:function(e,t){"clickaway"!==t&&(n(""),i&&i())},message:t,autoHideDuration:r||3e3},c))}var je=Object(E.a)((function(e){return{form:{width:"100%"},submitButton:{marginTop:e.spacing(2),width:"100%"}}}));function de(e){var t=Object(l.useState)(""),n=Object(y.a)(t,2),r=n[0],i=n[1],c=ie(function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){return i("Logged in! Redirecting you...")},onError:function(){var e=j.error,t=e.response&&401===e.response.status?"Invalid Credentials. Please try again.":"Something went wrong. Please try again later.";i(t)}},[]),u=Object(y.a)(c,2),j=u[0],d=u[1];return Object(a.jsxs)(l.Fragment,{children:[Object(a.jsx)(k.a,{initialValues:ae,validationSchema:T,onSubmit:d,children:be}),Object(a.jsx)(ue,{message:r,setMessage:i,onClose:function(){console.log("hi"),j.value&&e.setLoggedIn(!0)}})]})}function be(e){var t=e.values,n=e.errors,r=e.touched,i=e.handleChange,c=e.handleBlur,o=e.handleSubmit,s=e.isSubmitting,l=je(),u={onChange:i,onBlur:c,errors:N(r,n),values:t};return Object(a.jsxs)("form",{onSubmit:o,children:[Object(a.jsx)(se,{name:w,label:"Email",defaultHelperText:"Demo Email: admin@healthm.com",formikBag:u}),Object(a.jsx)(se,{name:S,label:"Password",type:"password",defaultHelperText:"Demo Password: admin",formikBag:u}),Object(a.jsx)(L,{type:"submit",color:"primary",variant:"contained",isWorking:s,className:l.submitButton,children:"Login"})]})}var Oe=n.p+"static/media/logo.727f7a81.svg";function me(e){return Object(a.jsx)("img",Object(D.a)({src:Oe,alt:"Health-M Logo"},e))}var he="SET_LANGUAGE",fe="SET_MESSAGE",ge="SET_LOGGED_IN",pe=function(e){return{type:ge,payload:{loggedIn:e}}},xe=n(56),ve=Object(E.a)((function(e){return{formContainer:{padding:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center",margin:e.spacing(1),width:"500px"}}}));var Ce=Object(xe.b)((function(e){return{loggedIn:e.loggedIn}}),{setLoggedIn:pe})((function(e){var t=ve();return Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",children:[e.loggedIn&&Object(a.jsx)(b.a,{to:O}),Object(a.jsx)(x.a,{direction:"down",in:!0,timeout:1500,children:Object(a.jsxs)(v.a,{className:t.formContainer,children:[Object(a.jsx)(C.a,{variant:"h2",children:"Health-M"}),Object(a.jsx)(me,{height:"128px",width:"128px"}),Object(a.jsx)(de,{setLoggedIn:e.setLoggedIn})]})})]})})),ye=n(204),ke=n(35),Ne=n(415),we=Object(E.a)((function(e){return{divider:{margin:e.spacing(2,0)}}}));var Se=function(){var e=we();return Object(a.jsx)(Ne.a,{classes:{root:e.divider},light:!0})};function De(e){return Object(a.jsxs)(u.a.Fragment,{children:[Object(a.jsx)(C.a,{variant:"h5",gutterBottom:!0,children:e.title}),e.children,Object(a.jsx)(Se,{})]})}var Fe="fullName",Ie="gender",Be="email",Le="bodyWeight",_e="birthDate",Te="address",Ee="phoneNumber",Me="pedigreeChart",Pe="admittorName",Re="admissionDate",Ae="parentsSeparated",Ge="parentsSeparatedDescription",We="parentsDivorced",qe="parentsDivorcedDescription",Ve="parentsDied",He="parentsDiedDescription",Ye="stepFamily",ze="stepFamilyDescription",Je="doctorNotes",Ue="diagnosisTreatment";var Ke=n(410),Xe=n(372),Ze=n(466),$e=n(416),Qe=n(463);function et(e){return Object(a.jsxs)(Ke.a,{margin:"normal",fullWidth:!0,component:"fieldset",children:[Object(a.jsx)(Xe.a,{component:"legend",children:e.label}),Object(a.jsx)(Ze.a,{"aria-label":"gender",name:e.name,value:e.value,onChange:e.onChange,row:!0,children:e.radios.map((function(e){return Object(a.jsx)($e.a,{value:e.value,control:Object(a.jsx)(Qe.a,{}),label:e.label},e.value)}))})]})}function tt(e){var t=e.name,n=e.formikBag,r=Object(F.a)(e,["name","formikBag"]),i=n.values,c=n.onBlur,o=n.onChange;return Object(a.jsx)(et,Object(D.a)({name:t,value:i[t],onChange:o,onBlur:c},r))}var nt=n(461);function at(e){return Object(a.jsx)(nt.a,Object(D.a)({disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",KeyboardButtonProps:{"aria-label":"change date"}},e))}function rt(e){var t=e.name,n=e.formikBag,r=Object(F.a)(e,["name","formikBag"]),i=n.values,c=n.onBlur,o=n.setFieldValue;return Object(a.jsx)(at,Object(D.a)({name:t,value:i[t],onChange:function(e){return o(t,e)},onBlur:c},r))}var it=n(421);var ct=n(200),ot=n.n(ct);function st(e){return Object(a.jsx)(oe,Object(D.a)(Object(D.a)({},e),{},{InputProps:{inputComponent:lt},InputLabelProps:{shrink:!0}}))}function lt(e){var t=e.inputRef,n=Object(F.a)(e,["inputRef"]);return u.a.useImperativeHandle(t,(function(){return{focus:function(){t.current.focus()}}})),Object(a.jsx)(ot.a,Object(D.a)(Object(D.a)({},n),{},{mask:["(","0",/\d/,/\d/,/\d/,")","-",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:" ",showMask:!0,ref:function(e){t(e?e.inputElement:null)}}))}function ut(e){var t=e.name,n=e.formikBag,r=Object(F.a)(e,["name","formikBag"]),i=n.values,c=n.errors,o=n.onChange,s=n.onBlur;return Object(a.jsx)(st,Object(D.a)({name:t,value:i[t],error:Boolean(c[t]),helperText:c[t],onChange:o,onBlur:s},r))}var jt=n(464),dt=Object(E.a)((function(e){return{checkBoxRoot:{display:"flex"}}}));function bt(e){var t=e.label,n=e.disabled,r=Object(F.a)(e,["label","disabled"]),i=dt();return Object(a.jsx)($e.a,{disabled:n,control:Object(a.jsx)(jt.a,Object(D.a)({},r)),label:t,classes:{root:i.checkBoxRoot}})}function Ot(e){return Object(a.jsxs)(u.a.Fragment,{children:[Object(a.jsx)(bt,{name:e.checkboxName,checked:e.isChecked,onChange:e.onCheckboxChange,label:e.checkboxLabel}),e.isChecked&&Object(a.jsx)(oe,{value:e.textFieldValue,label:e.checkboxLabel+" Description",onChange:e.onTextFieldChange,onBlur:e.onBlur,name:e.textFieldName,error:Boolean(e.textFieldError),helperText:e.textFieldError,multiline:!0,rows:4})]})}function mt(e){var t=e.checkboxName,n=e.textFieldName,r=e.formikBag,i=Object(F.a)(e,["checkboxName","textFieldName","formikBag"]),c=r.values,o=r.errors,s=r.onChange,l=r.onBlur,u=r.setFieldValue;return Object(a.jsx)(Ot,Object(D.a)({checkboxName:t,textFieldName:n,isChecked:c[t],textFieldValue:c[n],onCheckboxChange:function(e){u(t,e.target.checked),u(n,"")},onTextFieldChange:s,onBlur:l,textFieldError:o[n]},i))}var ht=n(7),ft=n(417),gt=n(422),pt=n(418),xt=n(423),vt=n(419);function Ct(e){var t,n=Object(l.useState)(""),r=Object(y.a)(n,2),i=r[0],c=r[1],o=Object(l.useState)("male"),s=Object(y.a)(o,2),u=s[0],j=s[1];return Object(a.jsxs)(ft.a,{open:e.isOpen,onClose:e.onClose,onEnter:function(){c(""),j("male")},children:[Object(a.jsx)(gt.a,{id:"form-dialog-title",children:"Add Family Member"}),Object(a.jsxs)(pt.a,{children:[Object(a.jsx)(xt.a,{children:"Please fill the following information to add a new family member."}),Object(a.jsx)(et,(t={label:"Gender",name:"gender",value:u},Object(ht.a)(t,"name","patientGenderDialog"),Object(ht.a)(t,"onChange",(function(e){return j(e.target.value)})),Object(ht.a)(t,"radios",[{value:"male",label:"Male"},{value:"female",label:"Female"}]),t)),Object(a.jsx)(oe,{name:"patientName",label:"Name",value:i,onChange:function(e){return c(e.target.value)}})]}),Object(a.jsxs)(vt.a,{children:[Object(a.jsx)(I.a,{onClick:e.onClose,color:"primary",children:"Cancel"}),Object(a.jsx)(I.a,{onClick:function(t){e.onConfirm(i,u),e.onClose()},color:"primary",children:"Add"})]})]})}var yt=n(53),kt=n(32),Nt=n(160),wt=n(37),St=n(66),Dt=n(206),Ft=n(41),It=n.p+"static/media/delete.c15b57c8.svg",Bt=n.p+"static/media/family.3695c0f7.svg",Lt=function(e){Object(St.a)(n,e);var t=Object(Dt.a)(n);function n(e,a,r){var i;return Object(yt.a)(this,n),(i=t.call(this,e)).setBackgroundColor(n.BACKGROUND_COLOR),i.setDimensions(n.DIMENSIONS),i._createCustomControls(a,r),i.on("object:moving",i._trackFamilyMemberNodes),i.on("object:scaling",i._trackFamilyMemberNodes),i}return Object(kt.a)(n,[{key:"_createCustomControls",value:function(e,t){var n=_t(It),a=_t(Bt);Ft.fabric.Object.prototype.controls.removeControl=new Ft.fabric.Control({x:-.5,y:-.5,offsetY:-24,offsetX:-24,cursorStyle:"pointer",render:this._renderControl(n),mouseUpHandler:e,cornerSize:40}),Ft.fabric.Object.prototype.controls.addControl=new Ft.fabric.Control({x:.5,y:-.5,offsetY:-24,offsetX:24,cursorStyle:"pointer",render:this._renderControl(a),mouseUpHandler:t,cornerSize:40})}},{key:"_renderControl",value:function(e){return function(t,n,a,r,i){var c=this.cornerSize;t.save(),t.translate(n,a),t.rotate(Ft.fabric.util.degreesToRadians(i.angle)),t.drawImage(e,-c/2,-c/2,c,c),t.restore()}}},{key:"addFamilyMemberNode",value:function(e,t,n){var a=this._makeFamilyMemberNode(e,t);if("undefined"!==typeof n){var r=this._connectFamilyMemberNodes(n,a);this.add(r),this.sendToBack(r)}this.add(a)}},{key:"removeFamilyMemberNode",value:function(e){if(this._isLoneNode(e))throw new Error("You can't remove lone nodes!");if(this._isIntermediateNode(e))throw new Error("You can't remove intermediate nodes!");this._hasTerminalConnectionLine(e)&&this._removeTerminalConnectionLine(e),this._hasOriginConnectionLines(e)&&this._removeOriginConnectionLines(e),this.remove(e),this.requestRenderAll()}},{key:"_makeFamilyMemberNode",value:function(e,t){if(this._hasObjectWithId(e))throw new Error("A node with this name already exists!");var a=new Ft.fabric.Text(e,Object(D.a)(Object(D.a)({},n.COMMON_FAMILY_NODE_CONFIG),{},{fontSize:n.FONT_SIZE,fontFamily:n.FONT_FAMILY})),r=this._makeFamilyMemberNodeShape(a,t),i=new Ft.fabric.Group([r,a],Object(D.a)(Object(D.a)({},n.COMMON_FAMILY_NODE_CONFIG),{},{left:150,top:100,cornerSize:25,id:e}));return i.originConnectionLines=[],i.terminalConnectionLine=null,i}},{key:"_makeFamilyMemberNodeShape",value:function(e,t){return"male"===t?new Ft.fabric.Rect(Object(D.a)(Object(D.a)({},n.COMMON_FAMILY_NODE_CONFIG),{},{fill:"#7986cb",height:e.height+n.FAMILY_NODE_PADDING,width:e.width+n.FAMILY_NODE_PADDING,rx:12,ry:12})):new Ft.fabric.Circle(Object(D.a)(Object(D.a)({},n.COMMON_FAMILY_NODE_CONFIG),{},{fill:"#f06292",radius:e.width/2+n.FAMILY_NODE_PADDING}))}},{key:"_hasOriginConnectionLines",value:function(e){return e.originConnectionLines&&e.originConnectionLines.length>0}},{key:"_hasTerminalConnectionLine",value:function(e){return Boolean(e.terminalConnectionLine)}},{key:"_isIntermediateNode",value:function(e){return this._connectionLineCount(e)>1}},{key:"_isLoneNode",value:function(e){return 0===this._connectionLineCount(e)}},{key:"_trackFamilyMemberNodes",value:function(e){var t=e.target;this._hasOriginConnectionLines(t)&&t.originConnectionLines.forEach((function(e){e.set({x1:t.left,y1:t.top})}));this._hasTerminalConnectionLine(t)&&t.terminalConnectionLine.set({x2:t.left,y2:t.top});this.renderAll()}},{key:"_connectFamilyMemberNodes",value:function(e,t){var n=this._makeConnectionLine([e.left,e.top,t.left,t.top],e.id,t.id);return e.originConnectionLines=e.originConnectionLines||[],e.originConnectionLines.push(n),t.terminalConnectionLine=n,n}},{key:"_hasObjectWithId",value:function(e){return this.getObjects().filter((function(t){return t.id===e})).length>0}},{key:"_findFamilyMemberNodeById",value:function(e){return this.getObjects().filter((function(t){return t.id===e}))[0]}},{key:"_makeConnectionLine",value:function(e,t,a){return new Ft.fabric.Line(e,{fill:n.CONNECTION_LINE_COLOR,stroke:n.CONNECTION_LINE_COLOR,strokeWidth:5,selectable:!1,evented:!1,fromNodeId:t,toNodeId:a})}},{key:"_connectionLineCount",value:function(e){return(this._hasTerminalConnectionLine(e)?1:0)+e.originConnectionLines.length}},{key:"_removeTerminalConnectionLine",value:function(e){var t=e.terminalConnectionLine,n=this._findFamilyMemberNodeById(t.fromNodeId);n.originConnectionLines=n.originConnectionLines.filter((function(t){return t.toNodeId!==e.id})),this.remove(t)}},{key:"_removeOriginConnectionLines",value:function(e){var t=this;e.originConnectionLines.forEach((function(e){t._findFamilyMemberNodeById(e.toNodeId).terminalConnectionLine=null,t.remove(e)}))}},{key:"toJSON",value:function(){return Object(Nt.a)(Object(wt.a)(n.prototype),"toJSON",this).call(this,["cornerSize","selectable","evented","id","toNodeId","fromNodeId"])}},{key:"loadFromJSON",value:function(e){var t=this;Object(Nt.a)(Object(wt.a)(n.prototype),"loadFromJSON",this).call(this,e),this.getObjects("line").forEach((function(e){var n=t._findFamilyMemberNodeById(e.fromNodeId);n.originConnectionLines=n.originConnectionLines||[],n.originConnectionLines.push(e);var a=t._findFamilyMemberNodeById(e.toNodeId);a.terminalConnectionLine=e,e.set({x1:n.left,y1:n.top}),e.set({x2:a.left,y2:a.top})}))}}]),n}(Ft.fabric.Canvas);function _t(e){var t=document.createElement("img");return t.src=e,t}function Tt(e){var t=Object(l.useState)(!1),n=Object(y.a)(t,2),r=n[0],i=n[1],c=Object(l.useState)(!1),o=Object(y.a)(c,2),s=o[0],u=o[1],j=Object(l.useState)(""),d=Object(y.a)(j,2),b=d[0],O=d[1],m=Object(l.useRef)(),h=Object(l.useRef)();function f(e,t){try{m.current.removeFamilyMemberNode(t)}catch(n){x(n.message),console.log(n)}}function g(e,t){h.current=t,i(!0)}function x(e){O(e),u(!0)}return Object(l.useEffect)((function(){var t=new Lt("fabric-canvas",f,g);return m.current=t,e.chartData?t.loadFromJSON(e.chartData):t.addFamilyMemberNode("Eve","female"),function(){e.saveChart(JSON.stringify(t))}}),[]),Object(a.jsxs)(p.a,{width:"100%",paddingTop:2,display:"flex",justifyContent:"center",children:[Object(a.jsx)("canvas",{id:"fabric-canvas"}),Object(a.jsx)(Ct,{isOpen:r,onClose:function(){return i(!1)},onConfirm:function(e,t){var n=m.current,a=h.current;try{n.addFamilyMemberNode(e,t,a)}catch(r){x(r.message),console.log(r)}}}),Object(a.jsx)(le.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&u(!1)},message:b})]})}Lt.COMMON_FAMILY_NODE_CONFIG={originX:"center",originY:"center"},Lt.FAMILY_NODE_PADDING=16,Lt.FONT_SIZE=50,Lt.FONT_FAMILY="Roboto, sans-serif",Lt.DIMENSIONS={width:1024,height:576},Lt.BACKGROUND_COLOR="#e0e0e0",Lt.CONNECTION_LINE_COLOR="#282C34";var Et=n(424),Mt=n(420),Pt=n(375),Rt=n(425),At=Object(E.a)((function(e){return{toolbar:e.mixins.toolbar}}));function Gt(e){var t=e.onClose,n=e.classes;return Object(a.jsxs)(u.a.Fragment,{children:[Object(a.jsx)(Et.a,{className:n.appBar,children:Object(a.jsxs)(Mt.a,{children:[Object(a.jsx)(Pt.a,{edge:"start",color:"inherit",onClick:t,"aria-label":"close",children:Object(a.jsx)(Rt.a,{})}),Object(a.jsx)(C.a,{variant:"h6",className:n.title,children:"Pedigree Chart Editor"})]})}),Object(a.jsx)("div",{className:n.toolbar})]})}var Wt=n(34),qt=n(411),Vt=n(462),Ht=n(426),Yt=Object(E.a)((function(e){return{formControl:{margin:e.spacing(2,0),maxWidth:150,display:"flex"}}}));function zt(e){var t=Yt();return Object(a.jsxs)(Ke.a,{variant:"outlined",className:t.formControl,children:[Object(a.jsx)(qt.a,{children:e.label}),Object(a.jsx)(Vt.a,{name:e.name,value:e.value,onChange:e.onChange,label:e.label,children:e.items.map((function(e){return Object(a.jsx)(Ht.a,{value:e.value,children:e.label},e.key)}))})]})}var Jt=n(427),Ut="None",Kt=Object(E.a)((function(e){return{paper:{padding:e.spacing(2),marginBottom:e.spacing(1),backgroundColor:e.palette.grey[100]}}})),Xt=[Ut].concat(Object(Wt.a)(["F1","F13","F22","F37","F56","F88","F99"])).map((function(e){return{key:e,value:e,label:e}}));var Zt=function(e,t){return e.diagnosisTreatment&&e.diagnosisTreatment[t]?e.diagnosisTreatment[t].treatment:""};var $t=[function(e){var t=e.formikBag;return Object(a.jsx)(De,{title:"Patient Name",children:Object(a.jsx)(se,{name:Fe,label:"Full Name",formikBag:t})})},function(e){var t=e.formikBag;return Object(a.jsxs)(De,{title:"Patient Body Info.",children:[Object(a.jsx)(tt,{name:Ie,label:"Gender",formikBag:t,radios:[{value:"male",label:"Male"},{value:"female",label:"Female"}]}),Object(a.jsx)(se,{name:Le,label:"Body Weight",formikBag:t,type:"number",InputProps:{startAdornment:Object(a.jsx)(it.a,{position:"start",children:"Kg"})}}),Object(a.jsx)(rt,{name:_e,label:"Birth Date",formikBag:t,maxDate:new Date((new Date).getFullYear()-1,(new Date).getMonth())})]})},function(e){var t=e.formikBag;return Object(a.jsxs)(De,{title:"Contact Info.",children:[Object(a.jsx)(se,{name:Te,label:"Address",formikBag:t}),Object(a.jsx)(se,{name:Be,label:"Email",formikBag:t}),Object(a.jsx)(ut,{name:Ee,label:"Phone Number",formikBag:t})]})},function(e){var t=e.formikBag;return Object(a.jsxs)(De,{title:"Admission Info.",children:[Object(a.jsx)(rt,{name:Re,label:"Admission Date",formikBag:t,maxDate:new Date}),Object(a.jsx)(se,{name:Pe,label:"Patient admitted by",formikBag:t})]})},function(e){var t=e.formikBag;return Object(a.jsxs)(De,{title:"Family Info.",children:[Object(a.jsx)(mt,{checkboxLabel:"Parents Separation",checkboxName:Ae,textFieldName:Ge,formikBag:t}),Object(a.jsx)(mt,{checkboxLabel:"Parents Divorce",checkboxName:We,textFieldName:qe,formikBag:t}),Object(a.jsx)(mt,{checkboxLabel:"Parents Died",checkboxName:Ve,textFieldName:He,formikBag:t}),Object(a.jsx)(mt,{checkboxLabel:"Step Family",checkboxName:Ye,textFieldName:ze,formikBag:t})]})},function(e){var t=e.formikBag,n=t.values,r=t.setFieldValue,i=At(),c=Object(l.useState)(!1),o=Object(y.a)(c,2),s=o[0],u=o[1],j=function(){u(!1)};return Object(a.jsxs)(De,{title:"Pedigree Chart",children:[Object(a.jsx)(I.a,{variant:"outlined",color:"primary",onClick:function(){u(!0)},children:"Open Pedigree Chart Editor"}),Object(a.jsxs)(ft.a,{fullScreen:!0,open:s,onClose:j,TransitionComponent:x.a,children:[Object(a.jsx)(Gt,{onClose:j,classes:i}),Object(a.jsx)(Tt,{chartData:n.pedigreeChart,saveChart:function(e){return r(Me,e)}})]})]})},function(e){var t=e.formikBag,n=t.values,r=t.errors,i=t.onChange,c=t.onBlur,o=t.setFieldValue,s=Kt();return Object(a.jsxs)(De,{title:"Diagnosis & Treatment",children:[n.diagnosisTreatment.map((function(e,t){var o="".concat(Ue,"[").concat(t,"]"),l=Zt(r,t);return Object(a.jsxs)(v.a,{variant:"outlined",className:s.paper,children:[Object(a.jsx)(C.a,{variant:"h6",children:"Diagnosis "+(t+1)}),Object(a.jsx)(zt,{label:"Diagnosis",items:Xt,onChange:i,name:"".concat(o,".diagnosis"),value:n.diagnosisTreatment[t].diagnosis}),Object(a.jsx)(oe,{label:"Treatment",name:"".concat(o,".treatment"),value:n.diagnosisTreatment[t].treatment,onChange:i,onBlur:c,error:Boolean(l),helperText:l,disabled:!Boolean(n.diagnosisTreatment[t].diagnosis)})]},o)})),Object(a.jsxs)(I.a,{variant:"contained",color:"primary",onClick:function(){o("diagnosisTreatment",[].concat(Object(Wt.a)(n.diagnosisTreatment),[{diagnosis:"",treatment:""}]))},children:["Add Diagnosis \xa0",Object(a.jsx)(Jt.a,{})]})]})},function(e){var t=e.formikBag;return Object(a.jsx)(De,{title:"Doctor's Notes",children:Object(a.jsx)(se,{label:"Mental State Examination",name:Je,formikBag:t,multiline:!0,rows:6})})}],Qt=_.b().shape({diagnosis:_.c(),treatment:_.c().max(300)}),en=_.b().shape({fullName:_.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),email:_.c().email("Invalid Email").required("Required"),bodyWeight:_.c().max(3,"Too Long!").required("Required"),address:_.c().max(100,"Too long!").required("Required"),phoneNumber:_.c().transform((function(e){return e.replace(/[^\d]/g,"")})).length(11,"Please enter 11 digits").required("Required"),admittorName:_.c().min(2,"Too Short!").max(50,"Too long!").required("Required"),parentsSeparatedDescription:_.c().min(2,"Too Short!").max(500,"Too long!").optional(),parentsDivorcedDescription:_.c().max(500,"Too long!").optional(),parentsDiedDescription:_.c().max(500,"Too long!").optional(),stepFamilyDescription:_.c().max(500,"Too long!").optional(),diagnosisTreatment:_.a().of(Qt),doctorNotes:_.c().max(1e4,"Too long!").required("Required")});function tn(e){var t=e.initialValues,n=e.onSubmit;return Object(a.jsx)(l.Fragment,{children:Object(a.jsx)(k.a,{initialValues:t,validationSchema:en,onSubmit:n,children:nn})})}function nn(e){var t=e.values,n=e.errors,r=e.touched,i=e.handleChange,c=e.handleBlur,o=e.handleSubmit,s=e.isSubmitting,l=e.setFieldValue,u=e.isValid,j={values:t,errors:N(r,n),onChange:i,onBlur:c,setFieldValue:l};return Object(a.jsx)(ke.a,{utils:ye.a,children:Object(a.jsxs)("form",{style:{width:"100%"},onSubmit:function(e){if(e.preventDefault(),!u)return function(e){var t=Object.keys(e)[0];return console.log(t),document.getElementsByName(t)[0]}(n).focus();o()},children:[$t.map((function(e){return Object(a.jsx)(e,{formikBag:j},e.name)})),Object(a.jsx)(L,{type:"submit",color:"primary",variant:"contained",isWorking:s,children:"Submit"})]})})}function an(){var e,t=new Date,n=new Date(t.getFullYear()-1,t.getMonth());return e={},Object(ht.a)(e,Fe,""),Object(ht.a)(e,Ie,"male"),Object(ht.a)(e,Be,""),Object(ht.a)(e,Le,""),Object(ht.a)(e,_e,n),Object(ht.a)(e,Te,""),Object(ht.a)(e,Ee,""),Object(ht.a)(e,Me,""),Object(ht.a)(e,Pe,""),Object(ht.a)(e,Re,t),Object(ht.a)(e,Ae,!1),Object(ht.a)(e,Ge,""),Object(ht.a)(e,We,!1),Object(ht.a)(e,qe,""),Object(ht.a)(e,Ve,!1),Object(ht.a)(e,He,""),Object(ht.a)(e,Ye,!1),Object(ht.a)(e,ze,""),Object(ht.a)(e,Je,""),Object(ht.a)(e,Ue,[{diagnosis:"",treatment:""}]),e}var rn=n(435),cn=n(428),on=Object(E.a)((function(e){return{drawer:{width:"240px",flexShrink:0},drawerPaper:{width:"240px"},logoBar:Object(D.a)(Object(D.a)({},e.mixins.toolbar),{},{maxHeight:"64px",display:"flex",padding:e.spacing(1,2),alignItems:"center"}),logo:{height:"100%",marginRight:e.spacing(2)},activeLink:{color:e.palette.secondary.main},listItemRoot:{color:"inherit"}}}));function sn(e){var t=on();return Object(a.jsxs)(cn.a,Object(D.a)(Object(D.a)({className:t.drawer,classes:{paper:t.drawerPaper},anchor:"left"},e),{},{children:[Object(a.jsxs)("div",{className:t.logoBar,children:[Object(a.jsx)(me,{className:t.logo}),Object(a.jsx)(C.a,{variant:"h6",children:"Health-M"})]}),Object(a.jsx)(Ne.a,{}),e.children]}))}var ln=n(413);var un=function(e){var t=e.children,n=Object(F.a)(e,["children"]);return Object(a.jsx)(ln.a,Object(D.a)(Object(D.a)({},n),{},{children:t}))},jn=n(376),dn=n(429),bn=n(430);var On=function(e){var t=e.icon,n=e.text,r=Object(F.a)(e,["icon","text"]);return Object(a.jsxs)(jn.a,Object(D.a)(Object(D.a)({},r),{},{children:[t?Object(a.jsx)(dn.a,{children:t}):null,Object(a.jsx)(bn.a,{primary:n})]}))},mn=Object(E.a)((function(e){return{activeLink:{color:e.palette.secondary.main}}}));function hn(e){var t=mn(),n=e.nav?{component:d.c,activeClassName:t.activeLink,exact:!0}:{component:d.b};return Object(a.jsx)(On,Object(D.a)({icon:e.icon,text:e.text,button:"undefined"===typeof e.button||e.button,to:e.to,onClick:e.onClick},n))}var fn=n(431),gn=n(432),pn=n(433),xn=[{icon:Object(a.jsx)(fn.a,{}),text:"Add Patient",to:h},{icon:Object(a.jsx)(gn.a,{}),text:"Search Patients",to:O},{icon:Object(a.jsx)(pn.a,{}),text:"Stats",to:f}],vn=n(434);var Cn=Object(xe.b)(null,{setLoggedIn:pe})((function(e){return Object(a.jsx)(sn,{open:e.open,onClose:e.toggleDrawer,children:Object(a.jsxs)(un,{children:[xn.map((function(t){return Object(a.jsx)(hn,Object(D.a)({nav:!0,onClick:e.toggleDrawer},t),t.text)})),Object(a.jsx)(On,{button:!0,onClick:function(){localStorage.setItem(W,""),e.setLoggedIn(!1)},icon:Object(a.jsx)(vn.a,{}),text:"Logout"})]})})})),yn=Object(E.a)((function(e){return{toolbar:e.mixins.toolbar}}));function kn(){var e=yn();return Object(a.jsx)("div",{className:e.toolbar})}var Nn=Object(E.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexShrink:0,marginRight:e.spacing(3),marginLeft:e.spacing(1)}}}));var wn=function(e){var t=Nn(),n=Object(l.useState)(!1),r=Object(y.a)(n,2),i=r[0],c=r[1],o=function(){return c(!i)};return Object(a.jsxs)(Et.a,{children:[Object(a.jsxs)(Mt.a,{children:[Object(a.jsx)(Pt.a,{edge:"start",className:t.menuButton,"aria-label":"menu",color:"inherit",onClick:o,children:Object(a.jsx)(rn.a,{})}),Object(a.jsx)(me,{height:"50px",width:"50px"}),Object(a.jsx)(C.a,{variant:"h6",className:t.title,children:"Health-M / "+e.title}),Object(a.jsx)(p.a,{display:"flex",flexGrow:"1",children:e.children})]}),Object(a.jsx)(Cn,{open:i,toggleDrawer:o})]})};var Sn=function(e){return Object(a.jsxs)(u.a.Fragment,{children:[Object(a.jsx)(wn,{title:e.title}),Object(a.jsx)(kn,{}),e.children]})},Dn=Object(E.a)((function(e){var t;return{paper:(t={padding:e.spacing(2),minHeight:"250px",margin:e.spacing(3,0)},Object(ht.a)(t,e.breakpoints.up("xs"),{width:"90%"}),Object(ht.a)(t,e.breakpoints.up("md"),{width:"70%"}),Object(ht.a)(t,e.breakpoints.up("lg"),{width:"50%"}),t),centerContent:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}}));function Fn(e){var t=Dn(),n=e.centerContent,r=e.className,i=Object(F.a)(e,["centerContent","className"]);return Object(a.jsx)(u.a.Fragment,{children:Object(a.jsx)(v.a,Object(D.a)(Object(D.a)({className:t.paper+" "+(n?t.centerContent:"")+" "+(r||""),elevation:3},i),{},{children:e.children}))})}function In(e){var t=e.diagnosisTreatment.reduce((function(e,t){return t.diagnosis&&t.diagnosis!==Ut?Object(D.a)(Object(D.a)({},e),{},Object(ht.a)({},t.diagnosis,t.treatment)):e}),{});return Object(D.a)(Object(D.a)({},e),{},{diagnosisTreatment:t})}function Bn(e){var t=an();return Object.keys(e).filter((function(e){return e in t})).forEach((function(n){t[n]="diagnosisTreatment"===n?function(e){var t;t=0!==Object.keys(e).length?Object.keys(e).map((function(t){return{diagnosis:t,treatment:e[t]}})):an().diagnosisTreatment;return console.log(t),t}(e[n]):e[n]})),t}var Ln=an();var _n=n(201),Tn=n.n(_n),En=n(141),Mn=n.n(En),Pn=u.a.forwardRef((function(e,t){var n=e.onSearch,r=Object(F.a)(e,["onSearch"]);Object(b.g)();return Object(a.jsx)("form",{onSubmit:function(t){t.preventDefault(),n(e.value)},children:Object(a.jsx)(oe,Object(D.a)({ref:t,placeholder:e.placeholder,InputProps:{endAdornment:Object(a.jsx)(it.a,{position:"end",children:Object(a.jsx)(Pt.a,{onClick:function(){return n(e.value)},children:Object(a.jsx)(Mn.a,{color:"primary"})})})}},r))})})),Rn=u.a.forwardRef((function(e,t){return Object(a.jsx)(v.a,Object(D.a)(Object(D.a)({ref:t},e),{},{children:e.children}))}));var An=function(e){return Object(a.jsx)(On,{icon:Object(a.jsx)(Mn.a,{color:"primary"}),text:e.value,onClick:function(){return console.log("hi")}})};var Gn=Object(E.a)((function(e){return{autoSuggestRoot:{position:"relative"},container:{position:"relative"},suggestionsContainer:{width:"100%",position:"absolute",zIndex:1,marginTop:e.spacing(1),"& ul":{margin:0,padding:0,listStyleType:"none"}},suggestion:{"& *":{userSelect:"none"}},suggestionHighlighted:{backgroundColor:e.palette.grey[100]}}}));function Wn(e){var t=e.value,n=e.onChange,r=e.getSuggestions,i=e.getSuggestionValue,c=(e.onSuggestionSelected,e.onSearch),u=e.placeholder,j=e.className,d=Gn(),b=function(e){var t=Object(l.useState)([]),n=Object(y.a)(t,2),a=n[0],r=n[1],i=Object(re.a)(function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.value,t.next=3,e(a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),c=Object(y.a)(i,2),u=c[0],j=c[1];return Object(l.useEffect)((function(){r(u.value||[])}),[u.value]),{suggestions:a,setSuggestions:r,fetchSuggestions:j}}(r),O=b.suggestions,m=b.setSuggestions,h=b.fetchSuggestions;return Object(a.jsx)(Tn.a,{theme:Object(D.a)(Object(D.a)({},d),{},{container:"".concat(d.container," ").concat(j)}),onSuggestionsFetchRequested:h,onSuggestionsClearRequested:function(){return m([])},inputProps:{value:t,onChange:n,placeholder:u},renderInputComponent:function(e){return Object(a.jsx)(Pn,Object(D.a)({onSearch:c},e))},renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return Object(a.jsx)(Rn,Object(D.a)(Object(D.a)({},t),{},{children:n}))},renderSuggestion:function(e){return Object(a.jsx)(An,{value:i(e)})},suggestions:O,getSuggestionValue:i,onSuggestionSelected:function(e,t){var n=t.suggestionValue;return c(n)}})}var qn=Object(E.a)((function(e){var t;return{searchBar:(t={marginBottom:e.spacing(1)},Object(ht.a)(t,e.breakpoints.up("xs"),{width:"95%"}),Object(ht.a)(t,e.breakpoints.up("md"),{width:"70%"}),Object(ht.a)(t,e.breakpoints.up("lg"),{width:"50%"}),t)}}));function Vn(){var e=qn(),t=Object(l.useState)(""),n=Object(y.a)(t,2),r=n[0],i=n[1],c=Object(b.g)();return Object(a.jsx)(Wn,{className:e.searchBar,placeholder:"Patient Name or Email",value:r,onChange:function(e,t){var n=t.newValue;return i(n)},onSearch:function(e){return c.push("/search?q=".concat(e))},getSuggestions:function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t,5,1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSuggestionValue:function(e){return e.fullName}})}var Hn=n(436),Yn=n(437),zn=n(439),Jn=n(438),Un=n.p+"static/media/boy.57ac73f9.svg",Kn=n.p+"static/media/girl.6c9c398c.svg",Xn=Object(E.a)((function(e){return{root:{maxWidth:250,width:250,margin:e.spacing(2)},cardImg:{objectFit:"contain",backgroundColor:e.palette.grey[200],padding:"2px"}}}));function Zn(e){var t=e.patient,n=e.style,r=Xn();return Object(a.jsx)(Hn.a,{style:n,className:r.root,children:Object(a.jsxs)(Yn.a,{component:d.b,to:A(t._id),children:[Object(a.jsx)(Jn.a,{component:"img",alt:"Patient Image",height:"140",image:"male"===t.gender?Un:Kn,classes:{img:r.cardImg}}),Object(a.jsxs)(zn.a,{children:[Object(a.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.fullName}),Object(a.jsxs)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:[t.email,Object(a.jsx)("br",{}),t.phoneNumber]})]})]})})}var $n=n(440),Qn=n(469),ea=Object(E.a)((function(e){var t;return{container:(t={},Object(ht.a)(t,e.breakpoints.up("xs"),{width:"95%"}),Object(ht.a)(t,e.breakpoints.up("md"),{width:"80%"}),t)}}));function ta(e){var t=e.results,n=ea();return Object(a.jsx)(p.a,{className:n.container,display:"flex",flexWrap:"wrap",justifyContent:"center",children:Object(a.jsx)(Qn.a,{enter:!0,component:null,children:t.map((function(e){return Object(a.jsx)($n.a,{timeout:750,children:Object(a.jsx)(Zn,{patient:e})},e._id)}))})})}function na(e){var t=e.loading,n=e.error,r=e.errorMessage,i=e.children;return Object(a.jsxs)(u.a.Fragment,{children:[i,t&&Object(a.jsx)(B.a,{}),n&&!t&&Object(a.jsx)(C.a,{variant:"caption",children:r||"Something went wrong."})]})}var aa=n(441);function ra(){var e=new URLSearchParams(Object(b.h)().search).get("q"),t=Object(l.useState)(1),n=Object(y.a)(t,2),a=n[0],r=n[1],i=Object(l.useState)([]),c=Object(y.a)(i,2),u=c[0],j=c[1];Object(l.useEffect)((function(){j([]),r(1)}),[e]);var d=Object(aa.a)(Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e,10,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),[e,a]);Object(l.useEffect)((function(){if(d.value){var e=d.value;j((function(t){return[].concat(Object(Wt.a)(t),Object(Wt.a)(e))}))}}),[d.value]);var O=10===(d.value?d.value.length:0);return{searchTerm:e,page:a,setPage:r,totalResults:u,fetchState:d,hasMoreResults:O}}var ia=n(202);var ca=n(442),oa=n(443),sa=n(444),la=n(445),ua=n(446),ja=n(447),da=n(448),ba=n(449),Oa=n(450),ma=n(451),ha=n(452),fa=n(453);function ga(e){var t=e.icon;return Object(a.jsxs)(jn.a,{children:[Object(a.jsx)(dn.a,{children:Object(a.jsx)(t,{})}),Object(a.jsxs)(bn.a,{children:[Object(a.jsx)(C.a,{variant:"h6",children:e.title}),e.content]})]})}function pa(e){e.failComponent;var t=Object(F.a)(e,["failComponent"]),n=Object(l.useState)(!1),r=Object(y.a)(n,2),i=r[0],c=r[1];return Object(l.useEffect)((function(){if(e.chartData){var t=new Ft.fabric.StaticCanvas("fabric-canvas");t.setDimensions(Lt.DIMENSIONS),t.setBackgroundColor(Lt.BACKGROUND_COLOR);try{t.loadFromJSON(e.chartData)}catch(n){console.error(n),c(!0)}}else c(!0)}),[]),i?e.failComponent:Object(a.jsx)("canvas",Object(D.a)({id:"fabric-canvas"},t))}function xa(e){var t=e.isOpen,n=e.onClose,r=e.chartData;return Object(a.jsx)(ft.a,{open:t,onClose:n,children:Object(a.jsx)(pa,{chartData:r,failComponent:Object(a.jsx)(p.a,{p:2,children:Object(a.jsx)(C.a,{variant:"subtitle2",children:"Not Available"})})})})}var va=Object(E.a)((function(e){return{infoList:{width:"100%"}}}));function Ca(e){var t,n=va(),r=Object(l.useState)(!1),i=Object(y.a)(r,2),c=i[0],o=i[1],s=e.patient,u=s.fullName,j=s.gender,d=s.birthDate,b=s.bodyWeight,O=s.address,m=s.phoneNumber,h=s.email,f=s.admissionDate,g=s.admittorName,p=s.parentsSeparated,x=s.parentsSeparatedDescription,v=s.parentsDied,C=s.parentsDiedDescription,k=s.parentsDivorced,N=s.parentsDivorcedDescription,w=s.stepFamily,S=s.stepFamilyDescription,D=s.pedigreeChart,F=s.diagnosisTreatment;return Object(a.jsxs)(l.Fragment,{children:[Object(a.jsxs)(ln.a,{className:n.infoList,children:[Object(a.jsx)(ga,{icon:ca.a,title:"Full Name:",content:u}),Object(a.jsx)(ga,{icon:oa.a,title:"Gender:",content:j?(t=j,t.charAt(0).toUpperCase()+t.slice(1)):""}),Object(a.jsx)(ga,{icon:sa.a,title:"Birthdate:",content:new Date(d).toDateString()}),Object(a.jsx)(ga,{icon:la.a,title:"Weight:",content:"".concat(b," Kg")}),Object(a.jsx)(ga,{icon:ua.a,title:"Address:",content:O}),Object(a.jsx)(ga,{icon:ja.a,title:"Phone:",content:m}),Object(a.jsx)(ga,{icon:da.a,title:"Email:",content:h}),Object(a.jsx)(ga,{icon:ba.a,title:"Admission Date:",content:new Date(f).toDateString()}),Object(a.jsx)(ga,{icon:Oa.a,title:"Admittor Name:",content:g}),Object(a.jsx)(ga,{icon:ma.a,title:"Parent Separation:",content:p?x||"Parents are separated.":"Parents are not separated."}),Object(a.jsx)(ga,{icon:ma.a,title:"Parents Divorce:",content:k?N||"Parents are divorced.":"Parents are not divorced."}),Object(a.jsx)(ga,{icon:ma.a,title:"Parents Death:",content:v?C||"Death has occured.":"Death has not occured."}),Object(a.jsx)(ga,{icon:ma.a,title:"Stepfamily:",content:w?S||"Stepfamily members exist.":"No stepfamily members exist."}),Object(a.jsx)(ga,{icon:ha.a,title:"Pedigree Chart:",content:Object(a.jsx)(I.a,{variant:"outlined",onClick:function(){return o(!0)},children:"View Chart"})}),Object.keys(F).map((function(e){return Object(a.jsx)(ga,{icon:fa.a,title:e,content:F[e]||"No Treatment."},e)}))]}),Object(a.jsx)(xa,{isOpen:c,onClose:function(){o(!1)},chartData:D})]})}var ya=n(455);function ka(e){var t=e.open,n=e.onClose,r=e.onDelete,i=e.confirmationWord,c=Object(l.useState)(""),o=Object(y.a)(c,2),s=o[0],u=o[1];return Object(a.jsxs)(ft.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(gt.a,{id:"form-dialog-title",children:"Are you sure?"}),Object(a.jsxs)(pt.a,{children:[Object(a.jsxs)(xt.a,{children:["Please confirm that you would like to delete this patient by entering ",Object(a.jsx)("b",{children:i})]}),Object(a.jsx)(oe,{autoFocus:!0,margin:"dense",label:"Patient Email Address",type:"email",fullWidth:!0,value:s,onChange:function(e){return u(e.target.value)}})]}),Object(a.jsxs)(vt.a,{children:[Object(a.jsx)(I.a,{onClick:n,color:"primary",children:"Cancel"}),Object(a.jsx)(I.a,{disabled:s!==i,onClick:r,color:"primary",children:"Delete"})]})]})}var Na=n(454),wa=n(456),Sa=Object(E.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(4),right:e.spacing(4)}}}));function Da(e){var t,n=Sa(),r=e.patient,i=r._id,c=r.email,u=Object(l.useState)(!1),j=Object(y.a)(u,2),m=j[0],h=j[1],f=Object(l.useState)(!1),g=Object(y.a)(f,2),x=g[0],v=g[1],C=Object(l.useState)(!1),k=Object(y.a)(C,2),N=k[0],w=k[1],S=ie(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{onSuccess:function(){return h("Patient deleted! Redirecting you...")},onError:function(){return h("Something went wrong while deleting...")}},[i]),D=Object(y.a)(S,2),F=D[0],I=D[1],B=F.loading,_=F.value;return Object(a.jsxs)(p.a,{display:"flex",width:"100%",flexDirection:"row-reverse",children:[Object(a.jsx)(L,{isWorking:B,variant:"outlined",color:"secondary",startIcon:Object(a.jsx)(Na.a,{}),onClick:function(){return v(!0)},children:"Delete Patient"}),Object(a.jsx)(ka,{open:x,onClose:function(){return v(!1)},onDelete:function(){v(!1),I()},confirmationWord:c}),Object(a.jsx)(ya.a,{className:n.fab,color:"primary",to:(t=i,"".concat(A(t),"/edit")),component:d.b,children:Object(a.jsx)(wa.a,{})}),Object(a.jsx)(ue,{message:m,setMessage:h,onClose:function(){_&&w(!0)}}),N&&Object(a.jsx)(b.a,{to:O})]})}var Fa=Object(E.a)((function(e){return{paper:{position:"relative"},patientImg:Object(ht.a)({padding:e.spacing(1),objectFit:"cover",backgroundColor:e.palette.grey[200],borderRadius:e.spacing(1),width:"70%"},e.breakpoints.up("sm"),{position:"absolute",right:e.spacing(3),top:e.spacing(3),width:250,height:250})}}));var Ia=n(203),Ba=n(457),La="parentsSeparated",_a="parentsDivorced",Ta="parentsDied",Ea="stepFamily",Ma=Object(E.a)((function(e){return{root:{padding:e.spacing(2)},filterButton:{marginTop:e.spacing(2)}}})),Pa=[{label:"Parents Death",name:Ta},{label:"Parents Separation",name:La},{label:"Parents Divorce",name:_a},{label:"Stepfamily",name:Ea}];function Ra(e){var t=Ma(),n=e.filter,r=e.setFilter,i=e.isFilterActive,c=e.setIsFilterActive,o=function(e){var t=Object(D.a)(Object(D.a)({},n),{},Object(ht.a)({},e.target.name,!n[e.target.name]));r(t)};return Object(a.jsxs)(v.a,{variant:"outlined",className:t.root,children:[Pa.map((function(e){var t=e.name,r=e.label;return Object(a.jsx)(bt,{name:t,label:r,checked:n[t],onChange:o,disabled:!i},t)})),Object(a.jsx)(I.a,{className:t.filterButton,variant:"contained",color:i?"primary":"secondary",startIcon:Object(a.jsx)(Ba.a,{}),onClick:function(){return c(!i)},children:i?"ON":"OFF"})]})}function Aa(e){var t=function(e){for(var t={},n=0;n<e.length;n++)for(var a=Object.keys(e[n].diagnosisTreatment),r=0;r<a.length;r++){var i=a[r],c=t[i];t[i]=c?c+1:1}return t}(e),n=Object.keys(t),a=Object.values(t),r=function(e){for(var t=[],n=[],a=0;a<e;a++)t.push("hsla(".concat(a/e*360,",100%,60%,0.2)")),n.push("hsl(".concat(a/e*360,",100%,60%,1)"));return{medicalCodeColors:t,medicalCodeBorderColors:n}}(n.length),i=r.medicalCodeColors,c=r.medicalCodeBorderColors;return n.length>0?{labels:n,datasets:[{label:"Patients",data:a,backgroundColor:i,hoverBackgroundColor:i,hoverBorderColor:i,borderColor:c,borderWidth:1}]}:Ga}var Ga={labels:["No Results Found"],datasets:[{label:"No Results Found",data:[1],backgroundColor:"hsla(200,100%,60%,0.2)",borderColor:"hsla(200,100%,60%,1)",borderWidth:1}]};function Wa(e,t){var n=Object(aa.a)(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[]),a=n.value,r=Object(l.useState)({}),i=Object(y.a)(r,2),c=i[0],u=i[1];return Object(l.useEffect)((function(){if(a){var n=Aa(e?function(e,t){if(!t)return e;var n=function(e){return Object.keys(t).filter((function(n){return t[n]===e[n]})).length===Object.keys(t).length};return e.filter((function(e){return n(e)}))}(a,t):a);u(n)}}),[a,e,t]),[n,c]}var qa=Object(xe.b)((function(e){return{language:e.language}}),{setLanguage:function(e){return{type:he,payload:{language:e}}}})((function(e){var t=Object(l.useState)(!1),n=Object(y.a)(t,2),r=n[0],i=n[1];return Object(a.jsxs)(v.a,{children:[Object(a.jsx)(I.a,{onClick:function(){e.setLanguage("ar"),i(!r)},variant:"outlined",children:e.language}),Object(a.jsx)(v.a,{elevation:4,children:Object(a.jsx)("svg",{children:Object(a.jsx)("polygon",{points:"0,100 50,00, 100,100"})})})]})})),Va=[{path:"/patients/:id/edit",Component:function(){var e=Object(b.i)().id,t=Object(l.useState)(""),n=Object(y.a)(t,2),r=n[0],i=n[1],c=Object(l.useState)(!1),u=Object(y.a)(c,2),j=u[0],d=u[1],O=function(e){var t=Object(aa.a)(Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),[e]),n=Object(l.useState)(),a=Object(y.a)(n,2),r=a[0],i=a[1];return Object(l.useEffect)((function(){var e=t.value;e&&i(Bn(e))}),[t.value]),[t,r]}(e),m=Object(y.a)(O,2),h=m[0],f=m[1],g=h.loading,p=h.error,x=ie(function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=In(n),t.next=3,K(e,a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){return i("Patient updated! Redirecting you...")},onError:function(){return i("Something went wrong!")}},[e]),v=Object(y.a)(x,2),C=v[0],k=v[1];return Object(a.jsxs)(Sn,{title:"Edit Patient",children:[Object(a.jsx)(Fn,{centerContent:!0,children:Object(a.jsx)(na,{loading:g,error:p,children:f&&Object(a.jsx)(tn,{initialValues:f,onSubmit:k})})}),Object(a.jsx)(ue,{message:r,setMessage:i,onClose:function(){C.value&&d(!0)}}),j&&Object(a.jsx)(b.a,{to:A(e)})]})}},{path:g,Component:function(){var e=Fa(),t=Object(b.i)().id,n=Object(aa.a)(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[t]),r=n.value,i=n.loading,c=n.error;return Object(a.jsx)(Sn,{title:"View Patient",children:Object(a.jsx)(Fn,{className:e.paper,centerContent:!0,children:Object(a.jsx)(na,{loading:i,error:c,children:r&&Object(a.jsxs)(u.a.Fragment,{children:[Object(a.jsx)("img",{className:e.patientImg,src:"male"===r.gender?Un:Kn}),Object(a.jsx)(Ca,{patient:r}),Object(a.jsx)(Da,{patient:r})]})})})})}},{path:O,Component:function(){var e=ra(),t=e.setPage,n=e.totalResults,r=e.fetchState,i=e.hasMoreResults,c=r.loading,o=r.error;return Object(a.jsxs)(Sn,{title:"Search Patients",children:[Object(a.jsx)(Vn,{}),Object(a.jsxs)(na,{loading:c,error:o,children:[Object(a.jsx)(ta,{results:n}),!c&&0===n.length&&Object(a.jsx)(C.a,{variant:"caption",children:"No results"})]}),!c&&i&&Object(a.jsx)(ia.a,{as:"div",onChange:function(e){return e&&t((function(e){return e+1}))}})]})}},{path:f,Component:function(){var e,t=Object(l.useState)((e={},Object(ht.a)(e,Ta,!1),Object(ht.a)(e,_a,!1),Object(ht.a)(e,La,!1),Object(ht.a)(e,Ea,!1),e)),n=Object(y.a)(t,2),r=n[0],i=n[1],c=Object(l.useState)(!1),o=Object(y.a)(c,2),s=o[0],u=o[1],j=Wa(s,r),d=Object(y.a)(j,2),b=d[0],O=d[1],m=b.loading,h=b.error;return Object(a.jsx)(Sn,{title:"Stats",children:Object(a.jsx)(Fn,{centerContent:!0,children:Object(a.jsx)(na,{loading:m,error:h,children:!m&&O&&Object(a.jsxs)(l.Fragment,{children:[Object(a.jsx)(C.a,{variant:"h5",children:"Medical Codes"}),Object(a.jsx)(Ia.Doughnut,{data:O}),Object(a.jsx)(p.a,{mt:4,display:"flex",width:"100%",flexDirection:"row-reverse",children:Object(a.jsx)(Ra,{filter:r,setFilter:i,isFilterActive:s,setIsFilterActive:u})})]})})})})}},{path:"/settings",Component:qa},{path:h,Component:function(){var e=Object(l.useState)(!1),t=Object(y.a)(e,2),n=t[0],r=t[1],i=Object(l.useState)(""),c=Object(y.a)(i,2),u=c[0],j=c[1],d=ie(function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=In(t),e.next=3,Y(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){j("Patient Submitted. Redirecting you...")},onError:function(){j("Something went wrong.")}}),O=Object(y.a)(d,2),m=O[0],h=O[1];return Object(a.jsxs)(Sn,{title:"Add Patient",children:[Object(a.jsx)(Fn,{children:Object(a.jsx)(tn,{initialValues:Ln,onSubmit:h})}),Object(a.jsx)(ue,{message:u,setMessage:j,onClose:function(){m.value&&r(!0)}}),n&&Object(a.jsx)(b.a,{to:A(m.value)})]})}},{path:"/",Component:function(){return Object(a.jsx)(b.a,{to:O})}}];var Ha=function(e){var t=e.children,n=Object(F.a)(e,["children"]);return Object(a.jsx)(p.a,Object(D.a)(Object(D.a)({component:"main",display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},n),{},{children:t}))};function Ya(e){return Object(a.jsx)(u.a.Fragment,{children:e.loggedIn?Object(a.jsx)(Ha,{children:Object(a.jsx)(b.d,{children:Va.map((function(e){return Object(a.jsx)(b.b,{path:e.path,component:e.Component},e.path)}))})}):Object(a.jsx)(b.a,{to:m})})}var za=n(209),Ja=n(458),Ua=Object(E.a)((function(e){return{backdrop:{alignItems:"flex-start",paddingTop:e.spacing(12),backgroundColor:e.palette.primary.dark},content:{display:"flex",flexDirection:"column",alignItems:"center",color:"white"},progress:{width:"75%"},logo:{margin:e.spacing(4)}}}));function Ka(e){var t=Ua();return Object(a.jsx)(za.a,{className:t.backdrop,open:e.open,children:Object(a.jsx)($n.a,{in:!0,timeout:1e3,children:Object(a.jsxs)("div",{className:t.content,children:[Object(a.jsx)(C.a,{variant:"h2",children:"Health-M"}),Object(a.jsx)(me,{className:t.logo,height:"128px",width:"128px"}),Object(a.jsx)(Ja.a,{color:"secondary",className:t.progress})]})})})}var Xa=Object(xe.b)((function(e){return{loggedIn:e.loggedIn}}),{setLoggedIn:pe})((function(e){var t=Object(aa.a)(Object(s.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te();case 2:return n=t.sent,e.setLoggedIn(!0),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),[]);return Object(a.jsxs)(u.a.Fragment,{children:[Object(a.jsx)(j.a,{}),t.loading?Object(a.jsx)(Ka,{open:!0}):Object(a.jsx)(d.a,{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:m,component:Ce}),Object(a.jsx)(Ya,{loggedIn:e.loggedIn})]})})]})})),Za=n(100),$a="english",Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return t.payload.language;default:return e}},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case fe:return t.payload.message;default:return e}},tr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return t.payload.loggedIn;default:return e}},nr=Object(Za.b)({language:Qa,message:er,loggedIn:tr}),ar=Object(Za.c)(nr);i.a.render(Object(a.jsx)(xe.a,{store:ar,children:Object(a.jsx)(Xa,{})}),document.getElementById("react-root"))}},[[370,1,2]]]);
//# sourceMappingURL=main.3e38a9be.chunk.js.map